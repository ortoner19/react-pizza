
–ù–∞ –ø–æ—á–∞—Ç–∫—É —Å–æ–∑–¥–∞–ª–∏ –ª–æ–≥—ñ–∫—É —Å–∫—Ä–∏—Ç—ñ—è –ø–æ–ø–∞–ø –æ–∫–Ω–∞, –ø—Ä–∏ –∫–ª—ñ–∫—É –≤–Ω—î –ø–æ–ø–∞–ø –æ–∫–Ω–∞ –≤ Sort

  const sortRef = React.useRef();

  React.useEffect(() => {
    const handleClickOutside = (event) => {
        if(!sortRef.current.contains(event.target)) {  // —Ç—ñ–ø–∞ —è–∫—â–æ –∫–ª—ñ–∫ –Ω–µ –ø–æ —Ü—ñ –∑–æ–Ω—ñ —Ç–æ setOpen(false)
          setOpen(false)
        }
    }
    document.body.addEventListener('click', handleClickOutside);

    return () => document.body.removeEventListener('click', handleClickOutside);  // —è–∫—â–æ –Ω–∞ –¥—Ä—É–≥—É —Å—Ç–æ—Ä—ñ–Ω–∫—É –ø–µ—Ä–µ–π—à–ª–∏, —Ç–æ –æ–±—Ä–∞–±–æ—Ç—á—ñ–∫ —Å–æ–±–∏—Ç—ñ–π —É–¥–∞–ª—è—î–º
		// —Ç—ñ–ø–∞ –∫–æ–ª–∏ –±—É–¥–µ —É–º—ñ—Ä–∞—Ç—å –∫–æ–º–ø–æ–Ω—î–Ω—Ç.. –∞–Ω–º–∞—É–Ω—Ç –≤–∏–∑–∏–≤–∞—î—Ç—å—Å—è.
  }, [])

<div ref={sortRef} className="sort"> 


–ü–æ –≤—ñ–¥–æ—Å—É —Ä–æ–±–∏–ª–∏ —á–µ—Ä–µ–∑ path, –∞–ª–µ —Ü–µ –∑–∞—Å—Ç–∞—Ä—ñ–ª–∞ —ñ–Ω—Ñ–∞.

======
–°–æ–∑–¥–∞–ª–∏ –Ω–æ–≤–∏–π —Ñ–∞–π–ª —Å–ª–∞–π—Å–∞ cartSlice.js

import { createSlice } from "@reduxjs/toolkit";

const initialState = {
  totalPrice: 0,    //–∫–æ—Ä–∑—ñ–Ω–∞ —Ü–µ–Ω–∞ —Å—É–º–∞—Ä–Ω–∞
  items: [],     // –∫–æ—Ä–∑—ñ–Ω–∞ –º–∞—Å—ñ–≤ –≤–∏–±—Ä–∞–Ω–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤ —É –∫–æ—Ä–∑—ñ–Ω—É
};


const cartSlice = createSlice({
  name: "cart",   //–Ω–∞–∑–≤–∞ —Ä–µ–¥—é—Å–µ—Ä–∞
  initialState,  // —Å—Ç–µ–π—Ç, –≤–∏—à–µ –Ω–∞–ø–∏—Å–∞–Ω–∏–π
  reducers: {   // –ø–µ—Ä–µ–ª—ñ–∫ —Ä–µ–¥—é—Å–µ—Ä—ñ–≤

    addItem(state, action) {
      const findItem = state.items.find((obj) => obj.id == action.payload.id);

      if (findItem) {
        findItem.count++;    // —â–æ—Ç—á—ñ–∫ –ø–æ–∫—É–ø–æ–∫ –∑–±—ñ–ª—å—à—É—î–º. –Ø–∫—â–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ: +1 –¥–æ —â–æ—Ç—á—ñ–∫–∞, else  –¥—Ä—É–≥—ñ–π —Ç–æ–≤–∞—Ä –≤ –º–∞—Å—ñ–≤ –¥–æ–±–∞–≤–ª—è—î—Ç—å—Å—è
      } else {
        state.items.push({
          ...action.payload,
          count: 1,
        });
      }
      state.totalPrice = state.items.reduce((sum, obj) => {  //–∑–∞–≥–∞–ª—å–Ω–∞ —Ü—ñ–Ω–∞ –ø–æ–∫—É–ø–æ–∫. reduce —Ü–µ —Å—É–º–∞ —á–∏—Å–µ–ª
        return obj.price * obj.count + sum;
      }, 0);   // 0 —Ü–µ —ñ–∑–Ω–∞—á–∞–ª—å–Ω–∞ —Å—É–º–∞ —á–∏—Å–µ–ª
    },
   
    minusItem(state, action) {                                            // –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ CartItem —é–∑–∞—î—Ç—å—Å—è
      const findItem = state.items.find((obj) => obj.id == action.payload); 
      if (findItem) {
        findItem.count --;
      }
    },

    removeItem(state, action) {
      state.items = state.items.filter((obj) => obj.id != action.payload);  // —Ü–µ —É–¥–∞–ª–∏—Ç—å –æ–±—å—î–∫—Ç–∞ —ñ–∑ –º–∞—Å—ñ–≤–∞ –ø–æ –∫–ª—ñ–∫—É (–≤ –∫–æ—Ä–∑–∏–Ω—ñ)
    },

    clearItems(state) {   // —Ü–µ –∫–Ω–æ–ø–∫–∞ —É–¥–∞–ª–∏—Ç—å –≤—Å—ñ –æ–±—å—î–∫—Ç–∏ –∑ –º–∞—Å—ñ–≤–∞ —ñ –≤–∏—Å—Ç–∞–≤–∏—Ç—å 0 –≤ –∫–æ—Ä–∑—ñ–Ω—ñ
      state.items = [];
      state.totalPrice = 0;
    },



–í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ store.js –¥–æ–±–∞–≤–∏–ª–∏ –Ω–æ–≤–∏–π —Å–ª–∞–π—Å

export const store = configureStore({
  reducer: {
    filter,
    cart,  // –æ—Ü–µ –¥–æ–±–∞–≤–∏–ª–∏
  },
});



–í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ Header

import { useSelector } from 'react-redux';


  const { items, totalPrice } = useSelector(state => state.cart);
  const totalCount = items.reduce((sum, item) => sum + item.count, 0);   // —Ü–µ –ø–æ –∫–ª—ñ–∫—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–æ–≤–∞—Ä—ñ–≤ –¥–æ–±–∞–≤–ª—è—î
 
–ø–µ—Ä–µ–¥–∞–ª–∏             <span>{totalPrice} ‚ÇΩ</span> —ñ             <span>{totalCount}</span>  // —Ü–µ –≤–æ–Ω–æ –∫–æ—Ä–∑—ñ–Ω—É –ø–æ–∫–∞–∑—É—î



–í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ PizzaBlock


import { useDispatch, useSelector } from "react-redux";
import { addItem } from '../../redux/slices/cartSlice';


function PizzaBlock({id, title, price, imageUrl, sizes, types}) {  // —Ç—É—Ç –º–∏ —â–µ —Ä–∞–Ω—å—à–µ –æ—Ç—Ä–∏–º—É–≤–∞–ª–∏ –¥–∞–Ω—ñ –ø–æ —Ç–æ–≤–∞—Ä—É, —Ü–µ —É–≤–µ—Ä—Ö—É

  const dispatch = useDispatch();
  const cartItem = useSelector((state) => state.cart.items.find((obj) => obj.id == id))  // cart —Ü–µ –Ω–∞–∑–≤–∞ —Ä–µ–¥—é—Å–µ—Ä–∞, id —Ü–µ –ø—ñ—Ü—Ü–∏

 const addedCount = cartItem ? cartItem.count : 0;

  const inClickAdd = () => {   // –ø–æ –∫–ª—ñ–∫—É –¥–æ–±–∞–≤–ª—è—î–º –≤ –∫–æ—Ä–∑—ñ–Ω—É 
    const item = {
      id,
      title,
      price,
      imageUrl,
      type: typeNames[activeType],  // —Ü–µ —Ç—ñ–ø —ñ —Ä–æ–∑–º—ñ—Ä –ø—ñ—Ü—Ü–∏
      size: sizes[activeSize],
    }
    dispatch(addItem(item))   // item —Ü–µ –Ω–∞–∑–≤–∞ –Ω–∞—à–æ—ó –∫–æ–Ω—Å—Ç, –ø–æ –¥—ñ—Å–ø–∞—Ç—á—É –º–∏ –∑–∞–∫—ñ–¥—É—î–º —Ü–µ –≤ addItem , —è–∫–∏–π –æ–ø–∏—Å—É—î—Ç—å—Å—è –≤ —Å–ª–∞–π—Å–µ—Ä—ñ
  }



<button onClick={inClickAdd}  className="button button--outline button--add">
            {addedCount > 0 && <i>{addedCount}</i>}   // —Ü–µ —â–æ—Ç—á—ñ–∫ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ –Ω–∞ –∫–Ω–æ–ø—Ü—ñ –¥–æ–±–∞–≤–∏—Ç—å



–ü–µ—Ä–µ–¥ —Ü–∏–º –±—É–ª–∞ –≥–ª–∞–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞, —Ç–µ–ø–µ—Ä –∫–æ—Ä–∑—ñ–Ω–∞, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ Cart

import { useDispatch, useSelector } from "react-redux";

    const dispatch = useDispatch();
    const { totalPrice, items } = useSelector((state) => state.cart)  // items  —Ü–µ –≤—Å—ñ –ø—ñ—Ü—Ü–∏ —ñ–∑ —Ä–µ–¥—é—Å–µ—Ä–∞


    const totalCount = items.reduce((sum, item) => sum + item.count, 0);


    const onclickClear = () => {
        if(window.confirm('–û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É?')) {    // –∑ –∫–æ—Ä–∑—ñ–Ω–∏ –≤—Å–µ —É–¥–∞–ª—è—î, –±–µ—Ä–µ—Ç—å—Å—è –∑ –¥—ñ—Å–ø–∞—Ç—á–∞ —Ñ—É–Ω–∫—Ü—ñ—è clearItems
            dispatch(clearItems())
        }
    }

    if (!totalPrice) {     // –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ Cart –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è —á–∏ —Ç—É–¥–∏ —à–æ—Ç–æ –¥–æ–±–∞–≤–∏–ª–∏, —è–∫—à–æ –Ω—ñ —Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ <CartEmpty />
        return <CartEmpty />
     }


—Ç—É—Ç –ø–µ—Ä–µ–ø–∏—Å–∞–ª–∏ html
                    {
                        items.map((item) => <CartItem key={item.id} {...item} />
                        )}

                        <span> –í—Å–µ–≥–æ –ø–∏—Ü—Ü: <b>{totalCount} —à—Ç.</b> </span>
                        <span> –°—É–º–º–∞ –∑–∞–∫–∞–∑–∞: <b>{totalPrice} ‚ÇΩ</b> </span> 


–°–æ–∑–¥–∞–ª–∏ –∫–æ–º–ø–æ–Ω—î–Ω—Ç CartItem, –π–æ–≥–æ —É–≤–µ—Å—å —Å–∫–æ–ø—ñ—é–≤–∞–≤:

import { useDispatch } from 'react-redux';
import { addItem, minusItem, removeItem } from '../redux/slices/cartSlice';

const CartItem = ({ id, title, price, size, type, count, imageUrl }) => {
    const dispatch = useDispatch();

    const onClickPlus = () => {   // –æ—Ü–µ –∑ –¥—ñ—Å–ø–∞—Ç—á–∞ –≤–∏–Ω—ñ–º–∞—î—Ç—å—Å—è addItem, minusItem —ñ —Ç–¥
        dispatch(
            addItem({
                id,
            }),
        )
    }
    const onClickMinus = () => {
        dispatch(
            minusItem(id)
        )
    }
    const onClickRemove = () => {
        if (window.confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å?')) {    // —É–¥–∞–ª–∏—Ç—å –ø—ñ—Ü—Ü—É –∑ –∫–æ—Ä–∑—ñ–Ω–∏
            dispatch(removeItem(id))
        }
    }

    return (
        <div className="cart__item">
            <div className="cart__item-img">
                <img
                    className="pizza-block__image"
                    src={imageUrl}
                    alt="Pizza /"
                />
            </div>
            <div className="cart__item-info">
                <h3>{title}</h3>
                <p>{type}, {size} —Å–º.</p>
            </div>
            <div className="cart__item-count">
                <div onClick={onClickMinus} className="button button--outline button--circle cart__item-count-minus">
                    <svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5.92001 3.84V5.76V8.64C5.92001 9.17016 5.49017 9.6 4.96001 9.6C4.42985 9.6 4.00001 9.17016 4.00001 8.64L4 5.76L4.00001 3.84V0.96C4.00001 0.42984 4.42985 0 4.96001 0C5.49017 0 5.92001 0.42984 5.92001 0.96V3.84Z" fill="#EB5A1E" />
                        <path d="M5.75998 5.92001L3.83998 5.92001L0.959977 5.92001C0.429817 5.92001 -2.29533e-05 5.49017 -2.29301e-05 4.96001C-2.2907e-05 4.42985 0.429817 4.00001 0.959977 4.00001L3.83998 4L5.75998 4.00001L8.63998 4.00001C9.17014 4.00001 9.59998 4.42985 9.59998 4.96001C9.59998 5.49017 9.17014 5.92001 8.63998 5.92001L5.75998 5.92001Z" fill="#EB5A1E" />
                    </svg>

                </div>
                <b>{count}</b>
                <div onClick={onClickPlus} className="button button--outline button--circle cart__item-count-plus">
                    <svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5.92001 3.84V5.76V8.64C5.92001 9.17016 5.49017 9.6 4.96001 9.6C4.42985 9.6 4.00001 9.17016 4.00001 8.64L4 5.76L4.00001 3.84V0.96C4.00001 0.42984 4.42985 0 4.96001 0C5.49017 0 5.92001 0.42984 5.92001 0.96V3.84Z" fill="#EB5A1E" />
                        <path d="M5.75998 5.92001L3.83998 5.92001L0.959977 5.92001C0.429817 5.92001 -2.29533e-05 5.49017 -2.29301e-05 4.96001C-2.2907e-05 4.42985 0.429817 4.00001 0.959977 4.00001L3.83998 4L5.75998 4.00001L8.63998 4.00001C9.17014 4.00001 9.59998 4.42985 9.59998 4.96001C9.59998 5.49017 9.17014 5.92001 8.63998 5.92001L5.75998 5.92001Z" fill="#EB5A1E" />
                    </svg>

                </div>
            </div>
            <div className="cart__item-price">
                <b>{price * count} ‚ÇΩ</b>
            </div>
            <div className="cart__item-remove">
                <div onClick={onClickRemove} className="button button--outline button--circle">
                    <svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5.92001 3.84V5.76V8.64C5.92001 9.17016 5.49017 9.6 4.96001 9.6C4.42985 9.6 4.00001 9.17016 4.00001 8.64L4 5.76L4.00001 3.84V0.96C4.00001 0.42984 4.42985 0 4.96001 0C5.49017 0 5.92001 0.42984 5.92001 0.96V3.84Z" fill="#EB5A1E" />
                        <path d="M5.75998 5.92001L3.83998 5.92001L0.959977 5.92001C0.429817 5.92001 -2.29533e-05 5.49017 -2.29301e-05 4.96001C-2.2907e-05 4.42985 0.429817 4.00001 0.959977 4.00001L3.83998 4L5.75998 4.00001L8.63998 4.00001C9.17014 4.00001 9.59998 4.42985 9.59998 4.96001C9.59998 5.49017 9.17014 5.92001 8.63998 5.92001L5.75998 5.92001Z" fill="#EB5A1E" />
                    </svg>
                </div>
            </div>
        </div>
    )
}

export default CartItem;



–¢–∞–∫–æ–∂ —Å–æ–∑–¥–∞–ª–∏ –∫–æ–º–µ–Ω—Ç–µ–Ω—Ç—É –ø—É—Å—Ç–æ—ó –∫–æ—Ä–∑–∏–Ω–∏ CartEmpty


import { Link } from 'react-router-dom';

import cartEmptyImg from '../empty-cart.png'

const CartEmpty = () => {
    return (
        <>
            <div className='cart cart-empty'>
                <h2>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞—è <span>üòï</span></h2>
                <p>–í–µ—Ä–æ—è—Ç–Ω–µ–π –≤—Å–µ–≥–æ, –≤—ã –Ω–µ –∑–∞–∫–∞–∑—ã–≤–∞–ª–∏ –µ—â–µ –ø–∏—Ü—Ü—É. <br />
                    –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∑–∞–∫–∞–∑–∞—Ç—å –ø–∏—Ü—Ü—É, –ø–µ—Ä–µ–∑–∞–π—Ç–∏ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.
                </p>
                <img src={cartEmptyImg} alt="Empty cart" />
                <Link to="/" className="button button--black">
                    <span>–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥</span>
                </Link>
            </div>
        </>
    )
}
export default CartEmpty;





==========
–ö–æ–º—ñ—Ç 40b633169677b916818767575d4123e3d6cd250a 16 —É—Ä–æ–∫